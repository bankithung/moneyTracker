{% load static %}
<!DOCTYPE html>
<html lang="en" data-theme="{{ user.theme|default:'light' }}">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>{% block title %}Wealth Planner{% endblock %}</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    {% block extra_css %}{% endblock %}
</head>

<body>
    {% if messages %}
    <div class="toast-container">
        {% for message in messages %}
        <div class="toast {% if message.tags %}toast-{{ message.tags }}{% endif %}">
            <div class="toast-content">{{ message }}</div>
            <button class="toast-close" onclick="this.parentElement.remove()"
                style="background:none; border:none; font-size:1.2rem;">&times;</button>
        </div>
        {% endfor %}
    </div>
    <script>
        setTimeout(function () {
            const toasts = document.querySelectorAll('.toast');
            toasts.forEach(t => {
                t.style.opacity = '0';
                t.style.transform = 'translateX(100%)';
                setTimeout(() => t.remove(), 300);
            });
        }, 4000);
    </script>
    {% endif %}

    <div class="container">
        {% block content %}{% endblock %}
    </div>

    {% block extra_js %}{% endblock %}
</body>

</html>